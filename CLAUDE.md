# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is a Docusaurus-based website for StomaStrap, a medical device company. The site contains product information, documentation, and two separate blogs - one for StomaStrap company updates and one for Ed's personal blog about his medical journey.

## Development Commands

### Start Development Server
```bash
yarn start
```
Starts local development server with hot reload at http://localhost:3000

### Build for Production
```bash
yarn build
```
Generates static content into the `build` directory

### Type Checking
```bash
yarn typecheck
# or
npm run typecheck
```

### Serve Built Site Locally
```bash
yarn serve
```

### Clear Cache
```bash
yarn clear
```

### Deploy to GitHub Pages
From Windows Command window:
```cmd
cmd /C "set "GIT_USER=EdHubbell" && yarn deploy"
```

## Architecture

### Site Structure
- **Main site**: Product information and documentation
- **Blog**: StomaStrap company updates (`/blog` route, `blog/` directory)
- **Ed's Blog**: Personal medical journey (`/edsBlog` route, `edsBlog/` directory)
- **Documentation**: Product info and FAQs (`/docs` route, `docs/` directory)

### Key Configuration Files
- `docusaurus.config.ts`: Main Docusaurus configuration with dual blog setup
- `sidebars.ts`: Documentation sidebar configuration (uses autogenerated structure)
- `package.json`: Dependencies and scripts

### Custom Components
- `ImageOnClick` (`src/components/ImageOnClick/`): Click-to-reveal image component for sensitive medical content
- Custom MDX components in `src/theme/MDXComponents.tsx`

### Content Organization
- **docs/**: Product documentation with auto-generated sidebar
- **blog/**: Company blog posts with authors.yml and tags.yml
- **edsBlog/**: Personal blog with separate authors.yml and tags.yml
- **static/**: Images, videos, 3D models, and other assets
- **static/img/spoiler/**: Medical images hidden behind click-to-reveal components

### Technology Stack
- Docusaurus 3.7.0 (React-based static site generator)
- TypeScript for configuration and components
- React Three Fiber (@react-three/fiber) for 3D model rendering
- Google Analytics integration (GTM and gtag)
- Custom CSS modules for component styling

### Deployment
- Deploys to GitHub Pages via `yarn deploy`
- Uses `deployment` branch for GitHub Pages hosting
- Custom domain: stomastrap.com
- CNAME file in both root and static directories

## Development Notes

- Uses yarn as package manager
- Node.js >= 18.0 required
- TypeScript configuration extends @docusaurus/tsconfig
- Two separate blog instances configured in docusaurus.config.ts
- Medical content uses ImageOnClick component for appropriate content warnings